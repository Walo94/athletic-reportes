services:
  frontend:
    image: ozgamez/athletic-erp-frontend:latest
    ports:
      - "5173:80"
    restart: always

  backend:
    image: ozgamez/athletic-erp-backend:latest
    ports:
      - "5000:5000"
    environment:
      - REPORT_API_URL=http://servidor-reportes:8081
      - PORT=5000
      - DATA_FILES_PATH=/app/data
    restart: always
    depends_on:
      - servidor-reportes
    volumes:
      - /d/ERP/dbf:/app/data

  servidor-reportes:
    image: ozgamez/athletic-reportes:latest
    ports:
      - "8081:8081"
    restart: always
    environment:
      - DB_URL=jdbc:sqlserver://192.168.95.1:9205;databaseName=Avances;encrypt=false;trustServerCertificate=true
      - DB_USER=sa
      - DB_PASS=Prok2001
      - CORS_ORIGIN=http://localhost:5173
    volumes:
      - /d/ERP/assets:/app/assets